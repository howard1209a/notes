---
title: C语言头文件的作用
date: 2023-10-29 11:31:08
tags: [C语言, 编译原理]
---

# C 语言头文件的作用

C 语言某个源文件中要调用某个外部函数（其他一起编译的源文件中的函数/静态库中的函数/动态库中的函数），只需要在源文件中声明此函数即可，c 编译器眼里只有源文件，参与编译的也只有源文件。c 语言的外部函数调用在编译时不需要定义，只要有个声明，编译器就会在调用处填入一个待定地址，之后由链接器在其他一起编译的源文件/静态库/动态库中去寻找真正函数并进行链接，对于其他一起编译的源文件/静态库是直接把相应函数的机器码链接过来，对于动态库是把相应函数的机器码的地址链接过来。所以你只需要知道别人写的函数签名，你就能调用别人写的函数，只要你在源文件里写一下声明就行。

那么问题来了，难道每次使用别人的代码，都要我自己先去查别人的文档，知道函数的声明，然后自己写一遍 extern void xxx();声明吗?于是程序员们就一起约定，你写了 c 文件之后，要把里面的函数声明和需要导出的宏一起存在另一个文件里，然后别人直接把这个文件里的内容复制粘贴在自己的源文件里，并且把别人写的源文件或者编译好的库也参与编译和链接，就能使用别人的成果了，这个文件就是头文件，这个复制粘贴的过程就是#include。
