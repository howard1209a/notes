---
title: 网盘
date: 2023-11-26 16:48:49
tags: [项目]
---

# 网盘

## 设计实现

### 功能列表

- ✅ 搭好项目架子
- ✅ 用户注册登陆
- ✅ 上传图片，图片列表
- ✅ 个人相册浏览，图像详细资料展示卡片
- ✅ 图片分组保管
- ✅ 图片链接
- 用户主页个人介绍
- 头像
- 动态
- 个人关注/粉丝
- 关注的人专栏
- 等级

  - 登录 exp 加 5（每日一次）
  - 浏览一篇博客加 5（每日一次）
  - 点赞一条评论加 3（每日上限 30）
  - 你的评论被他人点赞加 1（无上限）
  - 你的博客被他人收藏加 1（无上限）
  - 发布一篇博客加 10（每日两次）

- 个人仪表盘监控
- 个人历史记录
- 个人回收站
- 个人收藏夹

- 图库浏览
- 图库浏览衍生功能
  - 点赞
  - 评论
  - 分享
  - 收藏
- 图片复杂检索（个人/全站）
- 积分
- 下单（下单超时未支付）
- 审核中台
- 后台管理
- 稿件管理
- 个人喜好频道
- ✅ 对博客进行点赞、收藏
- 相似图片的博客推送（推荐算法）
- 图片压缩
- ✅ 全局搜索
  - 博客搜索
    - 作者名/标题/内容分词匹配
    - 标签限定
    - 排序
      - 点赞排序
      - 评论数排序
      - 新发布
  - 用户搜索

### 微服务划分

- user-service\*1

### Mysql 表设计

- 用户表
  - 用户 ID
  - 用户名
  - 密码
  - 邮箱
  - 创建时间
  - 修改时间
- 图片表
  - 图片 ID
  - 所属用户 ID
  - 图片名称
  - 所属分组 ID
  - 描述
  - 上传时间
- 分组表
  - 分组 ID
  - 所属用户 ID
  - 分组名称
- 标签表
  - 标签 ID
  - 标签名称
- 博客表
  - 博客 ID
  - 所属用户 ID
  - 标题
  - 图片 ID
  - 内容（普通文本）
  - 创建时间
  - 评论数
  - 收藏数
- 博客&标签关系表
  - 博客 ID
  - 标签 ID
- 博客评论表
  - 评论 ID
  - 所属用户 ID
  - 所属博客 ID
  - 文本内容
  - 父评论 ID
  - 点赞数
  - 评论发布时间
  - 楼层数（按时间顺序）
- 用户&评论的点赞关系表
  - 用户 ID
  - 评论 ID
- 用户&博客收藏关系表
  - 用户 ID
  - 博客 ID
- 用户关注用户关系表（复合索引）
  - 关注者 ID
  - 被关注者 ID

## 用到的技术

### RabbitMQ

http://10.129.0.31:15672/

### Redis

http://10.129.0.31:6379/

### Nacos

http://10.129.0.31:8848/

管理页面：http://10.129.0.31:8848/nacos

### Gateway

### Feign

### Elasticsearch

#### kibana

http://10.129.0.31:5601/

### Mysql

http://10.129.0.31:3306/
