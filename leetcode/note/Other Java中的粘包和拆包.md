---
title: Java中的粘包和拆包
date: 2023-10-29 12:41:51
tags: [Java, 计算机网络]
---

# Java 中的粘包和拆包

首先是粘包，TCP 中粘包的两种情况，第一种数据长度小于发送窗口，底层算法不会立即发而是等待新的数据填满发送窗口再发，因此造成粘包，这种情况在 Java 中不会出现，Java 中即使只有一字节也会立即发送。第二种接收端没有及时读出字节流，前一段字节流没有完全读出时第二段字节流到了这时就会粘在一起，这在 Java 中是会出现的，解决这个问题的最好方法就是设置分隔符。

然后是拆包，TCP 中拆包出现的原因是数据长度大于 MSS 或数据长度大于发送窗口剩余长度，拆包在 Java 底层应该是会出现的，但是不需要我们特别考虑，只要我们采用分隔符的方式接收，即使整个数据包是一段字节流一段字节流那样传的，在接收端拆的包会自己粘在一起。
