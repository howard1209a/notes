---
title: 二级缓存总结
date: 2024-02-13 22:56:17
tags: [Java, 八股文]
---

# 二级缓存总结

## 为什么二级缓存只需要考虑读写

读对应"查"，写对应"增删改"，写对应"改"好理解，但是为什么写还对应"增删"呢？其实我们可以将"增删"看成一种"改"，我们对数据库做一个变化，假设新的数据库存在所有的条目，原来的数据库中不存在这个条目的话，我们就为这个条目分配一个特殊值，如果存在这个条目那就还是原来的值。

原数据库和新数据库其实是完全等价的。我们查某个条目，特殊值说明这个条目不存在，非特殊值就得到了相应的值。我们将这个条目的值从一个非特殊值修改为另一个非特殊值就等同于原数据库的改，将这个条目的值从一个非特殊值修改为特殊值就等同于原数据库的删，将这个条目的值从特殊值修改为一个非特殊值就等同于原数据库的增。

从上面可以看出，原数据库的"增删改查"就对应新数据库的"改查"，所以我们讨论原数据库二级缓存的并发问题，其实等价于讨论新数据库二级缓存的并发问题，这就是为什么二级缓存只需要考虑读写，也就是改查。
